//
//  MapView.swift
//  LiveTramsMCR (iOS)
//  Created by shaundon (https://gist.github.com/shaundon/00be84deb3450e31db90a31d5d5b7adc)
//  Modified
//

import SwiftUI
import MapKit
import OrderedCollections

struct ExampleRouteCoordinates {
    static let exampleCoordinates: [[Double]] = [
        [ -2.2417174125, 53.4877421261 ],
                [ -2.2420411121, 53.4875246417 ],
                [ -2.2421196706, 53.4874418156 ],
                [ -2.2421297704, 53.4873813209 ],
                [ -2.2421114879, 53.4873146817 ],
                [ -2.2420679537, 53.4872623854 ],
                [ -2.2417038797, 53.486956258 ],
                [ -2.2416440503, 53.4869003902 ],
                [ -2.2414548524, 53.4867528701 ],
                [ -2.2413933334, 53.4866857806 ],
                [ -2.2413682265, 53.4866404588 ],
                [ -2.2412711421, 53.4863920226 ],
                [ -2.2412546913, 53.4863610465 ],
                [ -2.2412321499, 53.4863296422 ],
                [ -2.241194434, 53.4862957608 ],
                [ -2.2411607442, 53.4862703022 ],
                [ -2.2411258149, 53.4862468326 ],
                [ -2.2409430301, 53.4861798982 ],
                [ -2.2404212561, 53.4860395214 ],
                [ -2.240103557, 53.4859546203 ],
                [ -2.2399812306, 53.4859217089 ],
                [ -2.2398881387, 53.4858939427 ],
                [ -2.2398038501, 53.4858639207 ],
                [ -2.239721863, 53.485822398 ],
                [ -2.2396710874, 53.485786556 ],
                [ -2.2396197943, 53.4857471197 ],
                [ -2.2394713724, 53.4856236855 ],
                [ -2.2391654501, 53.4853321717 ],
                [ -2.2391066292, 53.4852776589 ],
                [ -2.2388534565, 53.485042925 ],
                [ -2.2387333751, 53.484923109 ],
                [ -2.2386926917, 53.4848673013 ],
                [ -2.2386687394, 53.4848283491 ],
                [ -2.238649868, 53.4847871486 ],
                [ -2.238625752, 53.4847189039 ],
                [ -2.2386036488, 53.4846306204 ],
                [ -2.2385931911, 53.4845606406 ],
                [ -2.2385906152, 53.4844341268 ],
                [ -2.2386162973, 53.4842273182 ],
                [ -2.2386365716, 53.4841421767 ],
                [ -2.2386627269, 53.484065841 ],
                [ -2.2387973566, 53.4837455893 ],
                [ -2.2389181184, 53.4834760503 ],
                [ -2.2389709511, 53.4833496954 ],
                [ -2.2390300321, 53.483139036 ],
                [ -2.2390703916, 53.4830457738 ],
                [ -2.2391843836, 53.482856846 ],
                [ -2.2392889289, 53.4826468237 ],
                [ -2.2394436211, 53.4823158357 ],
                [ -2.2394523667, 53.4822577719 ],
                [ -2.2394459665, 53.4822020755 ],
                [ -2.2394167479, 53.4821536153 ],
                [ -2.2393786544, 53.4821186463 ],
                [ -2.2393331246, 53.4820850404 ],
                [ -2.2392719662, 53.4820590159 ],
                [ -2.2390148741, 53.4819849453 ],
                [ -2.2388880798, 53.481951232 ],
                [ -2.238836318, 53.4819375024 ],
                [ -2.2384461281, 53.481833864 ],
                [ -2.2383155873, 53.4817955735 ],
                [ -2.2382164835, 53.4817580291 ],
                [ -2.2381653336, 53.4817215576 ],
                [ -2.2381343576, 53.481692686 ],
                [ -2.238106179, 53.4816520431 ],
                [ -2.2380930971, 53.4816218775 ],
                [ -2.2380946073, 53.4815819755 ],
                [ -2.2381021267, 53.4815496117 ],
                [ -2.2381255084, 53.4815083179 ],
                [ -2.2381572272, 53.481470513 ],
                [ -2.2382057084, 53.4814311557 ],
                [ -2.2383398701, 53.4813382463 ],
                [ -2.2384289716, 53.4812766968 ],
                [ -2.2384520067, 53.4812624494 ],
                [ -2.238648853, 53.4811402119 ],
                [ -2.2388896939, 53.4809743022 ],
                [ -2.2389161808, 53.4809549336 ],
                [ -2.2389643081, 53.4809198821 ],
                [ -2.2391839703, 53.4807664181 ],
                [ -2.2392566054, 53.4807138803 ],
                [ -2.2394774654, 53.4805540408 ],
                [ -2.2396622175, 53.4804445805 ],
                [ -2.2397970592, 53.4803879721 ],
                [ -2.2399192437, 53.480331389 ],
                [ -2.2400688899, 53.4802334137 ],
                [ -2.2402783813, 53.4800839143 ],
                [ -2.2407160506, 53.4797727611 ],
                [ -2.2410978203, 53.4795082693 ],
                [ -2.2416132143, 53.4791427781 ],
                [ -2.2420386445, 53.4788436998 ],
                [ -2.2422038436, 53.4787279073 ],
                [ -2.2423057708, 53.4786705476 ],
                [ -2.2426694808, 53.4785291101 ],
                [ -2.2431081393, 53.4782182293 ],
                [ -2.243771741, 53.4777478532 ],
                [ -2.2438667295, 53.47767344 ],
                [ -2.243919846, 53.4776179855 ],
                [ -2.2439971785, 53.4775203378 ],
                [ -2.2440680734, 53.4774460626 ],
                [ -2.2441518836, 53.4773722198 ],
                [ -2.2442349044, 53.477310683 ],
                [ -2.2448780337, 53.4768486094 ],
                [ -2.2452080364, 53.4766145966 ],
                [ -2.245313846, 53.4765415978 ],
                [ -2.2459203296, 53.4761255997 ],
                [ -2.245950153, 53.476105415 ],
                [ -2.2460273749, 53.4760530469 ],
                [ -2.2462797934, 53.4759208147 ],
                [ -2.24679663, 53.4756687991 ],
                [ -2.24745443, 53.4753438869 ],
                [ -2.2479419892, 53.4751018115 ],
                [ -2.2483335713, 53.4749100659 ],
                [ -2.2484798586, 53.4748376092 ],
                [ -2.2485612752, 53.4748029367 ],
                [ -2.2486521379, 53.4747681548 ],
                [ -2.2487378289, 53.4747431805 ],
                [ -2.2488307502, 53.4747205281 ],
                [ -2.2489183695, 53.4747059668 ],
                [ -2.2490060107, 53.4746951894 ],
                [ -2.2490967679, 53.4746865536 ],
                [ -2.2491873075, 53.4746819629 ],
                [ -2.249356987, 53.474681613 ],
                [ -2.2500607747, 53.4747110694 ],
                [ -2.2503454594, 53.4747237826 ],
                //"Deansgate",
                [ -2.2503454594, 53.4747237826 ],
                [ -2.2510329833, 53.4747544265 ],
                [ -2.2510906308, 53.4747573628 ],
                [ -2.2514413082, 53.4747751495 ],
                [ -2.2517301645, 53.4748002455 ],
                [ -2.2537490707, 53.4749871496 ],
                [ -2.2541938879, 53.4750226085 ],
                [ -2.2543458813, 53.4750326164 ],
                [ -2.2548291168, 53.4750522719 ],
                [ -2.2552722573, 53.4750562807 ],
                [ -2.2554862653, 53.4750508852 ],
                [ -2.2570217217, 53.4749478834 ],
                [ -2.2572396425, 53.4749290917 ],
                [ -2.257462612, 53.4749055159 ],
                [ -2.2576937123, 53.4748710556 ],
                [ -2.2578950034, 53.4748380067 ],
                [ -2.2581653343, 53.4747780335 ],
                [ -2.2585013746, 53.4746961761 ],
                [ -2.2603597703, 53.4741763001 ],
                [ -2.2615328152, 53.4738482998 ],
                [ -2.2617310223, 53.47380015 ],
                [ -2.2622418291, 53.4736783608 ],
                [ -2.2624735259, 53.4736201685 ],
                [ -2.2627020642, 53.473553174 ],
                [ -2.2629781485, 53.4734611862 ],
                [ -2.263196288, 53.4733817195 ],
                [ -2.2641158511, 53.4729697706 ],
                [ -2.2644806302, 53.4727986027 ],
                [ -2.2647177104, 53.4726694928 ],
                [ -2.2648940106, 53.472554628 ],
                [ -2.2650878858, 53.4724096128 ],
                [ -2.265184136, 53.4723259249 ],
                [ -2.2653482584, 53.4721694786 ],
                [ -2.2654811663, 53.4720281025 ],
                [ -2.2655800969, 53.4719178114 ],
                [ -2.2660468276, 53.4714030529 ],
                [ -2.2665977327, 53.4707870201 ],
                [ -2.2668431441, 53.4705620057 ],
                [ -2.2671523572, 53.4703110604 ],
                [ -2.2675495027, 53.4700194787 ],
                [ -2.2677815827, 53.4698492221 ],
                [ -2.2681604599, 53.4695768148 ],
                [ -2.2686207838, 53.4692200369 ],
                [ -2.2687762539, 53.469114999 ],
                [ -2.2688546329, 53.4690571349 ],
                [ -2.269009906, 53.4689210058 ],
                [ -2.2691932646, 53.4687476186 ],
                [ -2.2694314587, 53.4685651996 ],
                [ -2.2696196231, 53.4684449948 ],
                [ -2.2698477033, 53.4683122954 ],
                [ -2.2700447529, 53.4682039348 ],
                [ -2.2701248275, 53.468159899 ],
                [ -2.2702171558, 53.4681073954 ],
                [ -2.2703477652, 53.468019669 ],
                [ -2.2704638521, 53.4679343032 ],
                [ -2.2705604316, 53.4678467433 ],
                [ -2.2706391101, 53.4677585047 ],
                [ -2.2706739326, 53.4677076586 ],
                [ -2.2707082843, 53.4676586023 ],
                [ -2.2707621883, 53.4675404967 ],
                [ -2.2708057485, 53.4673994936 ],
                [ -2.2708170791, 53.4673048454 ],
                [ -2.2708174435, 53.4672458976 ],
                [ -2.270804224, 53.4669023937 ],
                [ -2.2707929774, 53.4665801793 ],
                [ -2.2707991294, 53.4664124029 ],
                [ -2.2708195763, 53.4662303024 ],
                [ -2.2708589035, 53.4660277551 ],
                [ -2.2709170553, 53.4658150172 ],
                [ -2.2709925086, 53.4656108601 ],
                [ -2.27107508, 53.4654318548 ],
                [ -2.2712019318, 53.4652022425 ],
                [ -2.271340666, 53.4649890522 ],
                [ -2.2715143144, 53.4647591538 ],
                [ -2.2716598273, 53.4645938478 ],
                [ -2.2718901294, 53.4643671461 ],
                [ -2.2720321768, 53.464244705 ],
                [ -2.2721069364, 53.4641859478 ],
                [ -2.2721904922, 53.4641224065 ],
                [ -2.2723674439, 53.4639819086 ],
                [ -2.2725805388, 53.4638238993 ],
                [ -2.2726946532, 53.4637434885 ],
                [ -2.2728148668, 53.4636653019 ],
                [ -2.2730726903, 53.4635089876 ],
                [ -2.2733859455, 53.4633414003 ],
                [ -2.2735304253, 53.463270717 ],
                [ -2.2737349898, 53.4631766158 ],
                [ -2.2738908073, 53.4631101217 ],
                [ -2.274143646, 53.4630114151 ],
                [ -2.2746338245, 53.4628380264 ],
                [ -2.2752600956, 53.4626214654 ],
                [ -2.2759032066, 53.4623616364 ],
                [ -2.2769044384, 53.4619244948 ],
                [ -2.2772539486, 53.4617587999 ],
                [ -2.2775130765, 53.4616359822 ],
                [ -2.2781151361, 53.4613307719 ],
                [ -2.2782568416, 53.4612549568 ],
                [ -2.2786576437, 53.4610364745 ],
                [ -2.2789622816, 53.4608654858 ],
                [ -2.2794423913, 53.4605825657 ],
                [ -2.2795913001, 53.4604896628 ],
                    //"Trafford Bar",
                    [ -2.2795913001, 53.4604896628 ],
                    [ -2.2797412787, 53.4603509245 ],
                    [ -2.2797767278, 53.4603224468 ],
                    [ -2.2798222037, 53.4602887323 ],
                    [ -2.2798612633, 53.4602596169 ],
                    [ -2.2798967052, 53.4602300605 ],
                    [ -2.279932523, 53.4602004134 ],
                    [ -2.2799562314, 53.4601799629 ],
                    [ -2.2799790502, 53.4601570785 ],
                    [ -2.2800018358, 53.4601268326 ],
                    [ -2.2800218295, 53.4600888631 ],
                    [ -2.2800405267, 53.4600438046 ],
                    [ -2.2800518017, 53.4600015409 ],
                    [ -2.2800681113, 53.4599323087 ],
                    [ -2.2800802149, 53.4598648031 ],
                    [ -2.2800853601, 53.4597973049 ],
                    [ -2.2800889993, 53.4597091454 ],
                    [ -2.2800876968, 53.4595104649 ],
                    [ -2.2800742012, 53.4593265542 ],
                    [ -2.2800270107, 53.4590433356 ],
                    [ -2.279971248, 53.4587941048 ],
                    [ -2.2798683603, 53.4584437098 ],
                    [ -2.2797456696, 53.4580450204 ],
                    [ -2.2793659377, 53.4567911009 ],
                    [ -2.279331675, 53.4566781315 ],
                    [ -2.2786452357, 53.4544113 ],
                    [ -2.2786047589, 53.4542777789 ],
                    [ -2.2785702378, 53.454163821 ],
                    [ -2.2779048144, 53.4519646019 ],
                    [ -2.2778364283, 53.4517391291 ],
                    [ -2.2778005263, 53.45162059 ],
                    [ -2.2777021917, 53.4512957098 ],
                    [ -2.2776764321, 53.4512107555 ],
                    [ -2.2767318933, 53.448090665 ],
                    [ -2.2767058753, 53.4480047313 ],
                    [ -2.2766816243, 53.4479195934 ],
                    [ -2.2766736249, 53.4478933742 ],
                    [ -2.2766606852, 53.4478506274 ],
                    [ -2.2765654143, 53.4475357163 ],
                    [ -2.2765472746, 53.4474758133 ],
                    [ -2.2763996186, 53.4469879476 ],
                    [ -2.2763826372, 53.4469347923 ],
                    [ -2.2763654148, 53.4468816285 ],
                    [ -2.2763475608, 53.4468285651 ],
                    [ -2.2763294665, 53.4467755921 ],
                    [ -2.2762699258, 53.4465905285 ],
                    [ -2.2762267408, 53.4464782976 ],
                    [ -2.2761892013, 53.4463752221 ],
                    [ -2.2761547801, 53.4462933524 ],
                    [ -2.2761188783, 53.4462106772 ],
                    [ -2.2760829719, 53.4461296109 ],
                    [ -2.2760126447, 53.4459852813 ],
                    [ -2.2759666985, 53.4458882475 ],
                    [ -2.2759180104, 53.4457886132 ],
                    [ -2.2758531135, 53.4456759918 ],
                    [ -2.2758259652, 53.4456243789 ],
                    [ -2.2757633521, 53.4455202913 ],
                    [ -2.2755916894, 53.4452367277 ],
                    [ -2.2755002071, 53.4451034036 ],
                    [ -2.2753888558, 53.4449473929 ],
                    [ -2.2752759829, 53.4447887789 ],
                    [ -2.2751203004, 53.4445753609 ],
                    [ -2.2749548403, 53.4443653807 ],
                    [ -2.2747850503, 53.4441561203 ],
                    [ -2.2745411479, 53.4438702939 ],
                    [ -2.2744342633, 53.4437547118 ],
                    [ -2.274274623, 53.4435802133 ],
                    [ -2.2740337986, 53.4433272681 ],
                    [ -2.2737405203, 53.443043171 ],
                    [ -2.2735081151, 53.4428250722 ],
                    [ -2.2733192056, 53.4426538662 ],
                    [ -2.2730082827, 53.4423871555 ],
                    [ -2.2728553011, 53.4422611603 ],
                    [ -2.2726537223, 53.4421067907 ],
                    [ -2.2725293603, 53.4420111924 ],
                    [ -2.272235686, 53.4418014011 ],
                    [ -2.2719770196, 53.4416274841 ],
                    [ -2.2718505037, 53.4415454627 ],
                    [ -2.2716750149, 53.4414326315 ],
                    [ -2.2714512038, 53.4412941302 ],
                    [ -2.2712899755, 53.4411981647 ],
                    [ -2.2711302811, 53.4411089369 ],
                    [ -2.2708745355, 53.4409645653 ],
                    [ -2.2706160548, 53.4408206575 ],
                    [ -2.2703250237, 53.4406713394 ],
                    [ -2.2701220891, 53.4405737582 ],
                    [ -2.2698935011, 53.44046401 ],
                    [ -2.269712495, 53.440379502 ],
                    [ -2.2695379752, 53.4403017117 ],
                    [ -2.2693236452, 53.4402084692 ],
                    [ -2.2690116523, 53.4400783406 ],
                    [ -2.2688671594, 53.4400182703 ],
                    [ -2.268721694, 53.4399591098 ],
                    [ -2.2685752255, 53.4399007603 ],
                    [ -2.2684277839, 53.4398432219 ],
                    [ -2.2682794753, 53.439786584 ],
                    [ -2.2681302995, 53.4397308467 ],
                    [ -2.2672129127, 53.4393940239 ],
                    [ -2.2669825056, 53.4393089924 ],
                    [ -2.2667394099, 53.4392193146 ],
                    [ -2.2657145447, 53.4388412989 ],
                    [ -2.2635786693, 53.4380532584 ],
                    //"St Werburgs Road south",
                    [ -2.2635786693, 53.4380532584 ],
                    [ -2.2633126707, 53.4379089005 ],
                    [ -2.2632207351, 53.4378545591 ],
                    [ -2.2630897479, 53.4377679531 ],
                    [ -2.2629944826, 53.4376959111 ],
                    [ -2.2628979449, 53.4376200966 ],
                    [ -2.2628490044, 53.437573301 ],
                    [ -2.2628095144, 53.4375284532 ],
                    [ -2.2627737362, 53.4374825276 ],
                    [ -2.2627478802, 53.4374369308 ],
                    [ -2.2627201236, 53.4373833472 ],
                    [ -2.262698606, 53.4373357634 ],
                    [ -2.262678159, 53.437259072 ],
                    [ -2.2626741239, 53.4372099218 ],
                    [ -2.2626748975, 53.4371324648 ],
                    [ -2.2626907519, 53.4370668308 ],
                    [ -2.262711666, 53.4370161968 ],
                    [ -2.2627312643, 53.4369743655 ],
                    [ -2.2627598001, 53.4369318855 ],
                    [ -2.262809274, 53.4368647397 ],
                    [ -2.262863744, 53.4367998301 ],
                    [ -2.2629381509, 53.4367311105 ],
                    [ -2.2631665824, 53.4365377669 ],
                    [ -2.2634975968, 53.4362562257 ],
                    [ -2.2635771608, 53.4361770587 ],
                    [ -2.2636129512, 53.4361248638 ],
                    [ -2.2636413231, 53.4360755526 ],
                    [ -2.2636524614, 53.4360509981 ],
                    [ -2.2636794005, 53.4359719555 ],
                    [ -2.2636952214, 53.435901198 ],
                    [ -2.263707496, 53.4358583041 ],
                    [ -2.2637265711, 53.435812438 ],
                    [ -2.26376182, 53.4357506264 ],
                    [ -2.2638091341, 53.4356949904 ],
                    [ -2.263858239, 53.4356490493 ],
                    [ -2.2639021656, 53.4356055465 ],
                    [ -2.264419263, 53.4351728091 ],
                    [ -2.2645087846, 53.4350979341 ],
                    [ -2.2645471789, 53.4350654994 ],
                    [ -2.2645945825, 53.4350246044 ],
                    [ -2.2646490315, 53.4349790107 ],
                    [ -2.2648364933, 53.4348278127 ],
                    [ -2.264935758, 53.434744116 ],
                    [ -2.2650300484, 53.4346593426 ],
                    [ -2.2651168574, 53.4345891563 ],
                    [ -2.2651702077, 53.4345461716 ],
                    [ -2.2652497309, 53.4344808462 ],
                    [ -2.2653348405, 53.434415868 ],
                    [ -2.2653627327, 53.4343916358 ],
                    [ -2.2653875738, 53.4343729744 ],
                    [ -2.2654483549, 53.4343292631 ],
                    [ -2.265494916, 53.4342911471 ],
                    [ -2.2655339556, 53.4342634747 ],
                    [ -2.2655786892, 53.4342316548 ],
                    [ -2.2656336776, 53.4341932505 ],
                    [ -2.2656753293, 53.4341669205 ],
                    [ -2.2657029007, 53.4341492507 ],
                    [ -2.2657700237, 53.434106415 ],
                    [ -2.2658381432, 53.4340641165 ],
                    [ -2.2659071396, 53.4340224541 ],
                    [ -2.2659772531, 53.4339813196 ],
                    [ -2.2660482277, 53.4339407225 ],
                    [ -2.2661202152, 53.4339008421 ],
                    [ -2.2661930638, 53.4338615081 ],
                    [ -2.2662669247, 53.4338227921 ],
                    [ -2.266341527, 53.4337847036 ],
                    [ -2.2664171114, 53.433747242 ],
                    [ -2.2664935877, 53.4337104166 ],
                    [ -2.2665709257, 53.4336742095 ],
                    [ -2.2666466636, 53.4336397137 ],
                    [ -2.266649005, 53.4336386299 ],
                    [ -2.2667279767, 53.4336037674 ],
                    [ -2.2668078102, 53.4335695321 ],
                    [ -2.2668882647, 53.4335359245 ],
                    [ -2.2669697169, 53.4335030338 ],
                    [ -2.2670415489, 53.4334770857 ],
                    [ -2.2671336653, 53.4334430027 ],
                    [ -2.2672319819, 53.433408726 ],
                    [ -2.2673272323, 53.4333776021 ],
                    [ -2.267419877, 53.4333486412 ],
                    [ -2.267509571, 53.4333220239 ],
                    [ -2.2675955366, 53.4332961338 ],
                    [ -2.267673954, 53.4332739369 ],
                    [ -2.2677653809, 53.4332476751 ],
                    [ -2.2678550713, 53.4332229451 ],
                    [ -2.2679446434, 53.4331985749 ],
                    [ -2.268026174, 53.4331760113 ],
                    [ -2.2681164879, 53.4331523584 ],
                    [ -2.2682516763, 53.4331174593 ],
                    [ -2.2683636764, 53.4330884544 ],
                    [ -2.2684190707, 53.433074587 ],
                    [ -2.2686706949, 53.4330077063 ],
                    [ -2.2689676892, 53.4329295776 ],
                    [ -2.2691033528, 53.4328938676 ],
                    [ -2.269276432, 53.4328481051 ],
                    [ -2.2695977153, 53.4327650637 ],
                    [ -2.2698891168, 53.4326887489 ],
                    [ -2.2701413649, 53.4326215015 ],
                    [ -2.2702191697, 53.432600481 ],
                    [ -2.2702799952, 53.432584074 ],
                    [ -2.270363364, 53.4325598948 ],
                    [ -2.271769646, 53.432163107 ],
                    [ -2.2747436189, 53.431355557 ],
                    [ -2.2763993086, 53.4309071983 ],
                    [ -2.2768015313, 53.4307974516 ],
                    [ -2.2779482683, 53.4304842269 ],
                    [ -2.278413169, 53.4303580606 ],
                    [ -2.2788401714, 53.430241509 ],
                    [ -2.2789006433, 53.430227265 ],
                    [ -2.2790095278, 53.4301982477 ],
                    [ -2.2791614514, 53.4301636651 ],
                    [ -2.2792305922, 53.4301493918 ],
                    [ -2.2793140131, 53.4301346359 ],
                    [ -2.2794159183, 53.4301178683 ],
                    [ -2.2795260018, 53.4301019716 ],
                    [ -2.2797188056, 53.430076992 ],
                    [ -2.2800459205, 53.4300378563 ],
                    [ -2.2805474975, 53.4299793549 ],
                    [ -2.2809724436, 53.4299291207 ],
                    [ -2.2813775471, 53.4298804507 ],
                    [ -2.2816261574, 53.429850933 ],
                    [ -2.2819189202, 53.429815918 ],
                    [ -2.2822436558, 53.4297771507 ],
                    [ -2.2826225959, 53.4297326731 ],
                    [ -2.2832717278, 53.429656645 ],
                    [ -2.2838712462, 53.4295845152 ],
                    [ -2.2844769753, 53.4295141566 ],
                    [ -2.2849779145, 53.4294542909 ],
                    [ -2.2852221987, 53.429426754 ],
                    [ -2.2855748398, 53.4293845772 ],
                    [ -2.2864565503, 53.4292789458 ],
                    [ -2.2873887121, 53.4291695925 ],
                    [ -2.2878921115, 53.4291098702 ],
                    [ -2.288042013, 53.4290924386 ],
                    [ -2.2883244337, 53.4290554504 ],
                    [ -2.288471462, 53.4290338005 ],
                    [ -2.2886583848, 53.4290027954 ],
                    [ -2.2888040913, 53.4289704517 ],
                    [ -2.288876942, 53.4289539157 ],
                    [ -2.288946436, 53.428937307 ],
                    [ -2.2890192617, 53.4289170856 ],
                    [ -2.2890883871, 53.4288993991 ],
                    [ -2.2891568887, 53.4288807252 ],
                    [ -2.28922451, 53.4288609658 ],
                    [ -2.2892913721, 53.4288402285 ],
                    [ -2.2893572348, 53.4288185946 ],
                    [ -2.2894222322, 53.4287958752 ],
                    [ -2.2895567583, 53.4287439714 ],
                    [ -2.2896321234, 53.4287121572 ],
                    [ -2.2898005687, 53.4286487551 ],
                    [ -2.290248061, 53.4284712724 ],
                    [ -2.2904931128, 53.4283775798 ],
                    [ -2.2908313313, 53.4282433092 ],
                    [ -2.2915256809, 53.4279652025 ],
                    [ -2.2916672004, 53.4279001558 ],
                    [ -2.291749577, 53.4278619412 ],
                    [ -2.2918253671, 53.4278223044 ],
                    [ -2.2918824409, 53.4277856796 ],
                    [ -2.2919706287, 53.4277257969 ],
                    [ -2.2920338464, 53.4276787391 ],
                    [ -2.2920983981, 53.4276287029 ],
                    [ -2.2922581395, 53.4274733017 ],
                    [ -2.292294037, 53.4274233446 ],
                    [ -2.2923397546, 53.4273591612 ],
                    [ -2.292392799, 53.4272770724 ],
                    [ -2.2924210244, 53.4272122218 ],
                    [ -2.2924538486, 53.4271310814 ],
                    [ -2.2924835662, 53.4270512161 ],
                    [ -2.2924950654, 53.4269722853 ],
                    [ -2.2925070453, 53.4268910253 ],
                    [ -2.2925090289, 53.4268180503 ],
                    [ -2.2925011208, 53.4267510322 ],
                    [ -2.2924880296, 53.4266699235 ],
                    [ -2.292477704, 53.426610282 ],
                    [ -2.2924598428, 53.4265402321 ],
                    [ -2.2924460539, 53.4264824867 ],
                    [ -2.2924215754, 53.4263866646 ],
                    [ -2.2923513846, 53.4261202145 ],
                    [ -2.292325246, 53.4260170346 ],
                    [ -2.2923009499, 53.4259301917 ],
                    [ -2.2922702161, 53.4258085962 ],
                    [ -2.2921858944, 53.4255264595 ],
                    [ -2.292152092, 53.4254269747 ],
                    [ -2.2921172243, 53.4253367508 ],
                    [ -2.2920885076, 53.4252569387 ],
                    [ -2.2920574428, 53.4251770335 ],
                    [ -2.2920158735, 53.425086017 ],
                    [ -2.2919765331, 53.4249930176 ],
                    [ -2.2919094799, 53.4248591065 ],
                    [ -2.2918626549, 53.424760831 ],
                    [ -2.2918210746, 53.4246857154 ],
                    [ -2.2917780791, 53.4246038707 ],
                    [ -2.2917338909, 53.4245280424 ],
                    [ -2.2916873146, 53.4244484537 ],
                    [ -2.2916418875, 53.4243740665 ],
                    [ -2.291584151, 53.4242776062 ],
                    [ -2.2914972515, 53.4241414962 ],
                    [ -2.2913181376, 53.4238950864 ],
                    [ -2.2911420204, 53.4236691546 ],
                    [ -2.2910133933, 53.423511403 ],
                    [ -2.2907800885, 53.4232318765 ],
                    [ -2.290327798, 53.422696958 ],
                    [ -2.2899737158, 53.4222806923 ],
                    [ -2.2898894027, 53.4221789031 ],
                    [ -2.2898133461, 53.4220874308 ],
                    [ -2.2897580438, 53.4220185504 ],
                    [ -2.2896883878, 53.4219388375 ],
                    [ -2.2895934858, 53.4218308717 ],
                    [ -2.2894990766, 53.4217222845 ],
                    [ -2.289422442, 53.4216362874 ],
                    [ -2.2893277162, 53.4215363299 ],
                    [ -2.2892240973, 53.4214229919 ],
                    [ -2.2891053936, 53.4212996321 ],
                    [ -2.2890088234, 53.4212003889 ],
                    [ -2.2889654708, 53.4211558385 ],
                    [ -2.2888982747, 53.4210900427 ],
                    [ -2.2886292671, 53.420829107 ],
                    [ -2.2885408703, 53.4207454841 ],
                    [ -2.2881964728, 53.4204343218 ],
                    [ -2.2881010934, 53.4203480997 ],
                    [ -2.2879925387, 53.4202559859 ],
                    [ -2.2878685485, 53.4201552893 ],
                    [ -2.2877475315, 53.4200558347 ],
                    [ -2.2876234125, 53.4199559381 ],
                    [ -2.2874937095, 53.4198556953 ],
                    [ -2.2873626832, 53.4197599499 ],
                    [ -2.2872136669, 53.4196649669 ],
                    [ -2.2871416466, 53.4196193164 ],
                    [ -2.2870653058, 53.419575555 ],
                    [ -2.2869564945, 53.4195183978 ],
                    [ -2.2868907416, 53.4194827904 ],
                    [ -2.2868376029, 53.4194568603 ],
                    [ -2.2867863229, 53.4194320943 ],
                    [ -2.2867487388, 53.4194145671 ],
                    [ -2.2866990809, 53.4193915948 ],
                    [ -2.2866430813, 53.4193675592 ],
                    [ -2.2865711679, 53.4193353821 ],
                    [ -2.2864980355, 53.4193076124 ],
                    [ -2.2863094536, 53.4192332085 ],
                    [ -2.2859561392, 53.4191043874 ],
                    [ -2.2856724667, 53.4190019901 ],
                    [ -2.2854299576, 53.4189146837 ],
                    [ -2.2850742585, 53.4187833492 ],
                    [ -2.284778029, 53.418674866 ],
                    [ -2.2845300525, 53.4185861328 ],
                    [ -2.2843232151, 53.4185087085 ],
                    [ -2.2842007075, 53.4184617359 ],
                    [ -2.2840986783, 53.418416953 ],
                    [ -2.2840074346, 53.4183717041 ],
                    [ -2.2839615131, 53.4183492511 ],
                    [ -2.2839220231, 53.4183255335 ],
                    [ -2.2838826633, 53.4183010066 ],
                    [ -2.2838425338, 53.4182738749 ],
                    [ -2.2838163298, 53.418252373 ],
                    [ -2.2837877648, 53.4182288004 ],
                    [ -2.2837591886, 53.418203529 ],
                    [ -2.2837342132, 53.4181789682 ],
                    [ -2.2836982784, 53.4181467929 ],
                    [ -2.2836743825, 53.418117106 ],
                    [ -2.2836530033, 53.4180925367 ],
                    [ -2.2836340971, 53.4180665143 ],
                    [ -2.2836108032, 53.4180345789 ],
                    [ -2.2835784613, 53.4179837977 ],
                    [ -2.2835598466, 53.4179450199 ],
                    [ -2.2835445799, 53.4179074117 ],
                    [ -2.2835378026, 53.4178770463 ],
                    [ -2.283521421, 53.4178188568 ],
                    [ -2.2835150902, 53.4177628909 ],
                    [ -2.2835147889, 53.4177176071 ],
                    [ -2.2835204046, 53.4176660982 ],
                    [ -2.2835290489, 53.4176242989 ],
                    [ -2.2835348296, 53.4175975892 ],
                    [ -2.2835466309, 53.4175621643 ],
                    [ -2.2835542682, 53.4175363491 ],
                    [ -2.283569433, 53.4175021657 ],
                    [ -2.2835930873, 53.4174594321 ],
                    [ -2.2836114785, 53.4174262298 ],
                    [ -2.2836422917, 53.4173785266 ],
                    [ -2.283683745, 53.4173244254 ],
                    [ -2.2837238835, 53.4172785069 ],
                    [ -2.2837616896, 53.4172370792 ],
                    [ -2.2838279617, 53.4171661106 ],
                    [ -2.2844543951, 53.4165083815 ],
                    [ -2.2845026998, 53.4164599265 ],
                    [ -2.2845485585, 53.4164169513 ],
                    [ -2.2846241584, 53.4163508139 ],
                    [ -2.2846985297, 53.4162854883 ],
                    [ -2.2847425878, 53.4162500676 ],
                    [ -2.2848202103, 53.4161894982 ],
                    [ -2.2848710784, 53.4161532524 ],
                    [ -2.2849305779, 53.4161095345 ],
                    [ -2.2849727994, 53.4160785226 ],
                    [ -2.2850249232, 53.4160455995 ],
                    [ -2.2851043653, 53.4159962523 ],
                    [ -2.285299231, 53.4158830185 ],
                    [ -2.2855515313, 53.4157505919 ],
                    [ -2.2858504952, 53.4156194919 ],
                    [ -2.2861433442, 53.4155044889 ],
                    [ -2.2862627331, 53.4154583686 ],
                    [ -2.2863852137, 53.415408924 ],
                    [ -2.286536866, 53.4153460159 ],
                    [ -2.2866624077, 53.4152909907 ],
                    [ -2.2869444334, 53.4151535396 ],
                    [ -2.2873793709, 53.4149376342 ],
                    [ -2.2875235321, 53.4148664733 ],
                    [ -2.2879739116, 53.4146441438 ],
                    [ -2.2881513123, 53.4145544826 ],
                    [ -2.2886026879, 53.4143316082 ],
                    [ -2.2887542449, 53.4142560224 ],
                    [ -2.2889593596, 53.4141560545 ],
                    [ -2.2892109997, 53.4140396945 ],
                    [ -2.2893831326, 53.4139614601 ],
                    [ -2.2894930693, 53.4139116735 ],
                    [ -2.2896170004, 53.4138601538 ],
                    [ -2.2897716174, 53.4137969637 ],
                    [ -2.2905580848, 53.4134941013 ],
                    [ -2.290653844, 53.4134570224 ],
                    [ -2.2907451374, 53.4134203139 ],
                    [ -2.2908601763, 53.4133734799 ],
                    [ -2.2909602419, 53.4133326239 ],
                    [ -2.2911299375, 53.4132618447 ],
                    [ -2.2912063743, 53.4132284981 ],
                    [ -2.291323732, 53.4131777118 ],
                    [ -2.2914555612, 53.4131202294 ],
                    [ -2.2916208916, 53.4130449748 ],
                    [ -2.2918277472, 53.4129484046 ],
                    [ -2.2923844861, 53.4126840983 ],
                    [ -2.2926441071, 53.4125605297 ],
                    [ -2.2927541443, 53.4125089511 ],
                    [ -2.2929498212, 53.4124107886 ],
                    [ -2.2930442421, 53.4123613965 ],
                    [ -2.2932578922, 53.4122432432 ],
                    [ -2.2934583301, 53.4121160434 ],
                    [ -2.2935452572, 53.4120600268 ],
                    [ -2.2936258602, 53.4120032167 ],
                    [ -2.2937058511, 53.4119471271 ],
                    [ -2.2938640641, 53.4118316174 ],
                    [ -2.2957749947, 53.4103916121 ],
                    [ -2.2962422424, 53.4100388188 ],
                    [ -2.2964285475, 53.4098982651 ],
                    [ -2.2969673412, 53.4094913674 ],
                    [ -2.2971093218, 53.4093803974 ],
                    [ -2.2971762687, 53.4093232596 ],
                    [ -2.2972270423, 53.40927658 ],
                    [ -2.2972702936, 53.4092362204 ],
                    [ -2.2973160847, 53.4091869465 ],
                    [ -2.2973499721, 53.4091369923 ],
                    [ -2.2973808254, 53.4090791355 ],
                    [ -2.2973959644, 53.4090285 ],
                    [ -2.2974063422, 53.4089874943 ],
                    [ -2.2974078237, 53.4089327671 ],
                    [ -2.2974051142, 53.4089003334 ],
                    [ -2.2973979161, 53.4088456279 ],
                    [ -2.2973860055, 53.4087924622 ],
                    [ -2.2973678601, 53.4087511682 ],
                    [ -2.2973475019, 53.4087139247 ],
                    [ -2.2973263078, 53.4086818968 ],
                    [ -2.2972884993, 53.4086316722 ],
                    [ -2.2972225447, 53.4085640797 ],
                    [ -2.2971530808, 53.4085087206 ],
                    [ -2.2970710043, 53.4084609344 ],
                    [ -2.296972555, 53.4084122093 ],
                    [ -2.296903802, 53.4083874011 ],
                    [ -2.2968139207, 53.4083570725 ],
                    [ -2.2966952593, 53.4083283436 ],
                    [ -2.2965126893, 53.4082920434 ],
                    [ -2.2963252034, 53.4082625867 ],
                    [ -2.2960923839, 53.4082229953 ],
                    [ -2.295997425, 53.4081956449 ],
                    [ -2.2959381019, 53.4081704531 ],
                    [ -2.2958967368, 53.4081448481 ],
                    [ -2.295841254, 53.4081030265 ],
                    [ -2.2958161234, 53.4080736148 ],
                    [ -2.2958020294, 53.4080457037 ],
                    [ -2.2957772768, 53.4079820529 ],
                    [ -2.2956997904, 53.4077357466 ],
                    [ -2.2956683275, 53.4076351866 ],
                    [ -2.2956095106, 53.4074364653 ],
                    [ -2.2955961642, 53.4073884266 ],
                    [ -2.2955953683, 53.4073627207 ],
                    [ -2.2955927335, 53.4073408036 ],
                    [ -2.2956055069, 53.4072872169 ],
                    [ -2.2956225471, 53.4072415207 ],
                    [ -2.295651461, 53.407190141 ],
                    [ -2.2956747441, 53.4071509911 ],
                    [ -2.2956888954, 53.4071159986 ],
                    [ -2.2957022465, 53.4070740958 ],
                    [ -2.2957063542, 53.4070246564 ],
                    [ -2.2956971418, 53.4069654613 ],
                    [ -2.295666948, 53.4068677655 ],
                    [ -2.2956078591, 53.4066298719 ],
                    [ -2.2955167544, 53.4063348082 ],
                    [ -2.2954156959, 53.4060509151 ],
                    [ -2.2953414366, 53.4058611308 ],
                    [ -2.2953265047, 53.4058164218 ],
                    [ -2.2953183941, 53.4057922624 ],
                    [ -2.295310783, 53.4057685604 ],
                    [ -2.2952994376, 53.405724922 ],
                    [ -2.2952905503, 53.4056951109 ],
                    [ -2.2952814105, 53.4056635926 ],
                    [ -2.295275237, 53.4056325164 ],
                    [ -2.295267565, 53.4056000957 ],
                    [ -2.2952613915, 53.4055690195 ],
                    [ -2.2952544621, 53.4055352486 ],
                    [ -2.2952497802, 53.4055045282 ],
                    [ -2.2952459037, 53.4054814371 ],
                    [ -2.2952412633, 53.4054566491 ],
                    [ -2.2952365877, 53.4054268276 ],
                    [ -2.2951274208, 53.4043737618 ],
                    [ -2.2951286803, 53.4043408695 ],
                    [ -2.2951315159, 53.4043204584 ],
                    [ -2.2951344038, 53.4043075166 ],
                    [ -2.2951387529, 53.4042906073 ],
                    [ -2.2951496931, 53.4042590393 ],
                    [ -2.2951605287, 53.4042318759 ],
                    [ -2.2951826961, 53.4041904824 ],
                    [ -2.2952140729, 53.4041367608 ],
                    [ -2.2952387251, 53.4040979679 ],
                    [ -2.2952669977, 53.4040456022 ],
                    [ -2.2952809095, 53.4040131279 ],
                    [ -2.2952867515, 53.4039967632 ],
                    [ -2.2952943988, 53.4039718459 ],
                    [ -2.2952994379, 53.4039482024 ],
                    [ -2.2953047764, 53.4039135921 ],
                    [ -2.2953047817, 53.4038798939 ],
                    [ -2.2953012073, 53.4038462045 ],
                    [ -2.2952941454, 53.4038127935 ],
                    [ -2.2952837637, 53.403764928 ],
                    [ -2.2952756346, 53.403735924 ],
                    [ -2.2952695109, 53.4037119487 ],
                    [ -2.2951582047, 53.4033107222 ],
                    [ -2.2949987303, 53.4027786961 ],
                    [ -2.2949364129, 53.4025754116 ],
                    [ -2.2949166242, 53.4025113899 ],
                    [ -2.2948810722, 53.402410563 ],
                    [ -2.2948263223, 53.4022419466 ],
                    [ -2.2947387003, 53.4019986354 ],
                    [ -2.2946684585, 53.4018146868 ],
                    [ -2.294637998, 53.401732094 ],
                    [ -2.294617057, 53.4016795715 ],
                    [ -2.2945993434, 53.4016304656 ],
                    [ -2.2945738449, 53.4015649299 ],
                    [ -2.2945485777, 53.4014980453 ],
                    [ -2.2945269308, 53.401434837 ],
                    [ -2.2945083634, 53.4013689246 ],
                    [ -2.2944986276, 53.401305597 ],
                    [ -2.2944944259, 53.4012378604 ],
                    [ -2.2945044318, 53.4011607315 ],
                    [ -2.2945163496, 53.4010903393 ],
                    [ -2.2945830993, 53.400917917 ],
                    [ -2.2946626198, 53.4007091492 ],
                    [ -2.2947040995, 53.4005040797 ],
                    [ -2.2947071991, 53.4004503382 ],
                    [ -2.2947090322, 53.4004112423 ],
                    [ -2.2947125838, 53.4003338597 ],
                    [ -2.2947005914, 53.4002510415 ],
                    [ -2.2946585719, 53.4001282173 ],
                    [ -2.2946206061, 53.4000367443 ],
                    [ -2.2945412222, 53.3999259582 ],
                    [ -2.2944796575, 53.3998471274 ],
                    [ -2.2943742514, 53.3997378436 ],
                    [ -2.2942387505, 53.3996197442 ],
                    [ -2.2941453441, 53.399559769 ],
                    [ -2.2940604623, 53.3995166623 ],
                    [ -2.293831814, 53.3994274566 ],
                    [ -2.2937023477, 53.3993723338 ],
                    [ -2.2936123867, 53.3993275314 ],
                    [ -2.2935591544, 53.3992874115 ],
                    [ -2.2934970164, 53.3992317541 ],
                    [ -2.2934618709, 53.3991886234 ],
                    [ -2.2934342527, 53.39915742 ],
                    [ -2.2932713219, 53.3989261574 ],
                    [ -2.293213285, 53.3988350028 ],
                    [ -2.2931727143, 53.398742457 ],
                    [ -2.2931213685, 53.3986163292 ],
                    [ -2.2930964822, 53.3985321941 ],
                    [ -2.2930549626, 53.398196302 ],
                    [ -2.2930039814, 53.3977623134 ],
                    [ -2.2929676419, 53.3975834934 ],
                    [ -2.2929165486, 53.3974218688 ],
                    [ -2.2928651792, 53.3972898084 ],
                    [ -2.2928373741, 53.3972313787 ],
                    [ -2.2927790114, 53.3970948501 ],
                    [ -2.2927283619, 53.3969776101 ],
                    [ -2.2926735303, 53.3968492434 ],
                    [ -2.2926118941, 53.3967046333 ],
                    [ -2.2925583911, 53.3965878589 ],
                    [ -2.2924644111, 53.396374134 ],
                    [ -2.2923854649, 53.3962183306 ],
                    [ -2.2922834635, 53.396062224 ],
                    [ -2.2921696733, 53.395923575 ],
                    [ -2.2920534771, 53.3957957181 ],
                    [ -2.2919791413, 53.3957148499 ],
                    [ -2.2919200437, 53.3956498452 ],
                    [ -2.2918453363, 53.3955673508 ],
                    [ -2.2917318006, 53.3954477566 ],
                    [ -2.2915679878, 53.3952641245 ],
                    [ -2.2914938933, 53.3951830756 ],
                    [ -2.2914059523, 53.3950872293 ],
                    [ -2.2908050547, 53.3944318176 ],
                    [ -2.2904246712, 53.3940174078 ],
                    [ -2.2901465931, 53.3937145302 ],
                    [ -2.2898245314, 53.3933607304 ],
                    [ -2.2896394031, 53.3931582712 ],
                    [ -2.2895294677, 53.3930356098 ],
                    [ -2.289274655, 53.392759909 ],
                    [ -2.2891721972, 53.3926441504 ],
                    [ -2.2889457199, 53.3923972156 ],
                    [ -2.2888138504, 53.3922570879 ],
                    [ -2.288727904, 53.3921631222 ],
                    [ -2.2886925805, 53.3921276217 ],
                    [ -2.2886783478, 53.3921132834 ],
                    [ -2.2886382022, 53.3920806709 ],
                    [ -2.2885912291, 53.3920457379 ],
                    [ -2.288534121, 53.392017391 ],
                    [ -2.2884850186, 53.3919987235 ],
                    [ -2.2883364963, 53.3919629571 ],
                    [ -2.2882311918, 53.3919561193 ],
                    [ -2.2881433161, 53.3919604572 ],
                    [ -2.2880359295, 53.3919746486 ],
                    [ -2.287859874, 53.3920115578 ],
                    [ -2.28729032, 53.3921393632 ],
                    [ -2.286902853, 53.3922262888 ],
                    [ -2.2865767332, 53.3922929404 ],
                    [ -2.2862905289, 53.3923386509 ],
                    [ -2.2860913838, 53.3923703995 ],
                    [ -2.2858741196, 53.392400034 ],
                    [ -2.2854496663, 53.3924436384 ],
                    [ -2.2851607964, 53.3924642844 ],
                    [ -2.2850158133, 53.3924736107 ],
                    [ -2.2848404417, 53.3924831083 ],
                    [ -2.2846324517, 53.392489897 ],
                    [ -2.284292285, 53.3924963714 ],
                    [ -2.2838329084, 53.3924920728 ],
                    [ -2.283491765, 53.3924807498 ],
                    [ -2.2833482676, 53.39247399 ],
                    [ -2.2832050083, 53.3924646316 ],
                    [ -2.2830696939, 53.3924560543 ],
                    [ -2.2829281465, 53.3924440759 ],
                    [ -2.2827904486, 53.3924320972 ],
                    [ -2.2826470374, 53.3924179656 ],
                    [ -2.2823708727, 53.3923891464 ],
                    [ -2.2821033575, 53.3923585083 ],
                    [ -2.2819001217, 53.3923340996 ],
                    [ -2.2815210636, 53.3922898815 ],
                    [ -2.2811743483, 53.3922408309 ],
                    [ -2.2809510034, 53.392195174 ],
                    [ -2.2807686985, 53.3921501301 ],
                    [ -2.280582756, 53.3920984519 ],
                    [ -2.2801774309, 53.3919815016 ],
                    [ -2.2797792265, 53.3918700253 ],
                    [ -2.2793828707, 53.3917580939 ],
                    [ -2.2791025092, 53.3916757139 ],
                    [ -2.2788808711, 53.3916076675 ],
                    [ -2.2786287788, 53.3915250494 ],
                    [ -2.2782848319, 53.3914063403 ],
                    [ -2.2778930936, 53.3912796518 ],
                    [ -2.2774616254, 53.3911428974 ],
                    [ -2.2771032404, 53.3910341958 ],
                    [ -2.2767049353, 53.3909070693 ],
                    [ -2.2763071496, 53.3907808391 ],
                    [ -2.2757928143, 53.3906352911 ],
                    [ -2.2754489434, 53.3905466675 ],
                    [ -2.2751269618, 53.3904665405 ],
                    [ -2.2749197441, 53.3904197565 ],
                    [ -2.2746906757, 53.3903678 ],
                    [ -2.2745223414, 53.3903324221 ],
                    [ -2.2743476556, 53.3902937418 ],
                    [ -2.2737619854, 53.3901758363 ],
                    [ -2.273384475, 53.3900993377 ],
                    [ -2.2730949925, 53.3900399753 ],
                    [ -2.272897232, 53.3899994491 ],
                    [ -2.2726802544, 53.3899563599 ],
                    [ -2.2724605094, 53.3899084317 ],
                    [ -2.2723407749, 53.3898730295 ],
                    [ -2.2722433601, 53.389838565 ],
                    [ -2.2721502427, 53.3897989671 ],
                    [ -2.2719953099, 53.3897262703 ],
                    [ -2.2719085351, 53.3896885453 ],
                    [ -2.2718204281, 53.3896563963 ],
                    [ -2.2717424004, 53.3896297072 ],
                    [ -2.2717005514, 53.3896173983 ],
                    [ -2.2716362144, 53.3895989475 ],
                    [ -2.2715649361, 53.3895813125 ],
                    [ -2.2715021299, 53.3895694198 ],
                    [ -2.27131279, 53.3895447816 ],
                    [ -2.271105252, 53.3895240407 ],
                    [ -2.2709735174, 53.3895114955 ],
                    [ -2.2708443805, 53.3894983959 ],
                    [ -2.2707340978, 53.3894875095 ],
                    [ -2.2706012589, 53.3894762159 ],
                    [ -2.2704810597, 53.3894664215 ],
                    [ -2.2700838898, 53.3894338037 ],
                    [ -2.2699454759, 53.3894229804 ],
                    [ -2.2696930676, 53.3894038667 ],
                    [ -2.268851735, 53.3893348744 ],
                    [ -2.2675227178, 53.3892299389 ],
                    [ -2.2667167545, 53.3891654273 ],
                    [ -2.2664263931, 53.3891429851 ],
                    [ -2.2663116611, 53.3891343428 ],
                    [ -2.2661888846, 53.3891256285 ],
                    [ -2.2660992229, 53.3891202647 ],
                    [ -2.2660063307, 53.3891152587 ],
                    [ -2.2658848156, 53.3891110356 ],
                    [ -2.2657290705, 53.3891054505 ],
                    [ -2.2655608219, 53.3891032188 ],
                    [ -2.2636365328, 53.3890785568 ],
                    [ -2.2631172776, 53.3890669405 ],
                    [ -2.2630706464, 53.3890660547 ],
                    [ -2.2630240286, 53.3890649082 ],
                    [ -2.262977409, 53.389063483 ],
                    [ -2.2629307873, 53.3890616982 ],
                    [ -2.2628842846, 53.3890597334 ],
                    [ -2.2628377798, 53.3890574091 ],
                    [ -2.2627914086, 53.3890548148 ],
                    [ -2.2627450201, 53.3890518609 ],
                    [ -2.2626986306, 53.3890487273 ],
                    [ -2.2626523741, 53.3890452338 ],
                    [ -2.2626061009, 53.3890414707 ],
                    [ -2.2625599614, 53.3890374376 ],
                    [ -2.2625138202, 53.3890331438 ],
                    [ -2.2624677976, 53.3890285711 ],
                    [ -2.2624448529, 53.3890261048 ],
                    [ -2.2594465482, 53.3887089905 ],
                    [ -2.2586259312, 53.3886172299 ],
                    [ -2.2582368844, 53.3885726093 ],
                    [ -2.2578410071, 53.3885246674 ],
                    [ -2.2575132601, 53.3884871835 ],
                    [ -2.2571703584, 53.3884473135 ],
                    [ -2.256953507, 53.3884209953 ],
                    [ -2.2567844614, 53.3883885603 ],
                    [ -2.2566970635, 53.3883668254 ],
                    [ -2.2566291229, 53.3883453182 ],
                    [ -2.2565841411, 53.3883286962 ],
                    [ -2.2565497193, 53.3883153863 ],
                    [ -2.2564866859, 53.3882848799 ],
                    [ -2.2564266713, 53.3882414234 ],
                    [ -2.256378425, 53.3881972314 ],
                    [ -2.2563375938, 53.3881485201 ],
                    [ -2.2563023848, 53.3880872217 ],
                    [ -2.2562700533, 53.3879897021 ],
                    [ -2.2562475615, 53.3878393269 ],
                    [ -2.2562417728, 53.3877015812 ],
                    [ -2.2562312852, 53.3875084133 ],
                    [ -2.2562202006, 53.3873159568 ],
                    [ -2.2562153902, 53.3872398523 ],
                    [ -2.2561634746, 53.386413343 ],
                    [ -2.2561555799, 53.3862163044 ],
                    [ -2.2561435874, 53.3860597051 ],
                    [ -2.2561420267, 53.3860060559 ],
                    [ -2.2561335903, 53.3858433458 ],
                    [ -2.256126029, 53.3857402007 ],
                    [ -2.2561169422, 53.38557191 ],
                    [ -2.2561128785, 53.3854161924 ],
                    [ -2.2561117903, 53.3852774568 ],
                    [ -2.2561134023, 53.3851352908 ],
                    [ -2.2561210432, 53.3849463894 ],
                    [ -2.2561428359, 53.3846573522 ],
                    [ -2.2561703323, 53.3843693005 ],
                    [ -2.2561989754, 53.3840475393 ],
                    [ -2.256229928, 53.3837175037 ],
                    [ -2.2562602456, 53.3833845121 ],
                    [ -2.2562644211, 53.3833174666 ],
                    [ -2.2562681628, 53.3832581522 ],
                    [ -2.2562997945, 53.3829188658 ],
                    [ -2.2563237059, 53.3826521065 ],
                    [ -2.2563436257, 53.3824431431 ],
                    [ -2.2563506836, 53.3823828328 ],
                    [ -2.2563665323, 53.3823194474 ],
                    [ -2.2563911889, 53.3822754493 ],
                    [ -2.2564345448, 53.3822310604 ],
                    [ -2.256481059, 53.3821967228 ],
                    [ -2.2565497697, 53.382161079 ],
                    [ -2.2566243678, 53.3821392647 ],
                    [ -2.2566773543, 53.3821283642 ],
                    [ -2.2567725068, 53.3821218669 ],
                    [ -2.2569070794, 53.382113307 ],
                    [ -2.2570746205, 53.3821072014 ],
                    [ -2.2571499725, 53.3821054207 ],
                    [ -2.2572084788, 53.3821047549 ],
                    [ -2.2572935, 53.3821034026 ],
                    [ -2.2573793787, 53.3821021382 ],
                    [ -2.2574868518, 53.3821019057 ],
                    [ -2.2575863939, 53.3821027689 ],
                    [ -2.2576596517, 53.3821027002 ],
                    [ -2.2578659008, 53.3821034219 ],
                    [ -2.257999886, 53.3821020528 ],
                    [ -2.2581673165, 53.382097555 ],
                    [ -2.2584995385, 53.3820823621 ],
                    [ -2.2589260737, 53.3820441412 ],
                    [ -2.2592049001, 53.3820125327 ],
                    [ -2.2593812681, 53.3819898657 ],
                    [ -2.259629592, 53.3819584125 ],
                    [ -2.2598261276, 53.3819297685 ],
                    [ -2.2599589939, 53.3819080046 ],
                    [ -2.2600851657, 53.3818855271 ],
                    [ -2.2602898021, 53.3818444694 ],
                    [ -2.260507282, 53.3817969922 ],
                    [ -2.2606545782, 53.3817628817 ],
                    [ -2.260806416, 53.3817217589 ],
                    [ -2.2609978333, 53.381668046 ],
                    [ -2.2611834001, 53.3816115681 ],
                    [ -2.2618522321, 53.3813915591 ],
                    [ -2.2620132848, 53.3813386394 ],
                    [ -2.2623893268, 53.3812156919 ],
                    [ -2.2628146007, 53.3810759158 ],
                    [ -2.2629410176, 53.3810354665 ],
                    [ -2.263107263, 53.3809791181 ],
                    [ -2.263203932, 53.3809391838 ],
                    [ -2.2632346896, 53.3809223161 ],
                    [ -2.2632874356, 53.380892636 ],
                    [ -2.2633507572, 53.3808497192 ],
                    [ -2.2633649466, 53.3808398003 ],
                    [ -2.263391832, 53.380819166 ],
                    [ -2.2634167424, 53.3807976371 ],
                    [ -2.2634394078, 53.3807752953 ],
                    [ -2.2634598433, 53.3807521584 ],
                    [ -2.2634780349, 53.3807283972 ],
                    [ -2.2634938624, 53.3807040121 ],
                    [ -2.263507342, 53.3806791828 ],
                    [ -2.2635183377, 53.3806538106 ],
                    [ -2.2637514069, 53.3800462057 ],
                    [ -2.2637748214, 53.3799851393 ],
                    [ -2.2637882381, 53.3799503328 ],
                    [ -2.2641249731, 53.3790778461 ],
                    [ -2.2641477921, 53.3790394321 ],
                    [ -2.2641990336, 53.3789692253 ],
                    [ -2.2642696527, 53.3789039192 ],
                    [ -2.2643849509, 53.3788101187 ],
                    [ -2.2644920829, 53.3787182238 ],
                    [ -2.2645479157, 53.378668222 ],
                    [ -2.2645794237, 53.3786346425 ],
                    [ -2.2646028989, 53.3786025999 ],
                    [ -2.2646181892, 53.3785694069 ],
                    [ -2.2646242926, 53.3785358749 ],
                    [ -2.2646222381, 53.3785030802 ],
                    [ -2.2646100267, 53.3784543083 ],
                    [ -2.2645904875, 53.3784211929 ],
                    [ -2.2645553805, 53.3783769753 ],
                    [ -2.2644896073, 53.3783231092 ],
                    [ -2.2644202071, 53.3782853497 ],
                    [ -2.2642128809, 53.3781915473 ],
                    [ -2.2640398854, 53.3781163556 ],
                    [ -2.2638569487, 53.3780378688 ],
                    [ -2.2637326748, 53.3779844917 ],
                    [ -2.2636002099, 53.3779288944 ],
                    [ -2.2633921766, 53.3778392268 ],
                    [ -2.2631886403, 53.3777570095 ],
                    [ -2.2630507179, 53.3777010551 ],
                    [ -2.2628179018, 53.3776118009 ],
                    [ -2.2625849849, 53.3775255127 ],
                    [ -2.2623584242, 53.3774459515 ],
                    [ -2.262128028, 53.3773682768 ],
                    [ -2.2618891013, 53.3772917082 ],
                    [ -2.261657511, 53.3772199677 ],
                    [ -2.2614254371, 53.3771501155 ],
                    [ -2.2611115549, 53.3770598676 ],
                    [ -2.2608527066, 53.3769892641 ],
                    [ -2.260453426, 53.3768762 ],
                    [ -2.2601002004, 53.3767746201 ],
                    [ -2.2597980226, 53.3766923429 ],
                    [ -2.2594692682, 53.3765999659 ],
                    [ -2.2591877015, 53.3765201501 ],
                    [ -2.2590161418, 53.3764754192 ],
                    [ -2.2589076476, 53.3764466313 ],
                    [ -2.2587610571, 53.3764119038 ],
                    [ -2.2587280454, 53.3764041556 ],
                    [ -2.2586906852, 53.3763956977 ],
                    [ -2.258642654, 53.3763850249 ],
                    [ -2.2585659663, 53.376368383 ],
                    [ -2.2585023017, 53.3763551374 ],
                    [ -2.2584355494, 53.3763433277 ],
                    [ -2.2583720388, 53.3763331288 ],
                    [ -2.2580690834, 53.3762823899 ],
                    [ -2.257547792, 53.3761989645 ],
                    [ -2.2571164527, 53.3761306138 ],
                    [ -2.2567834778, 53.3760766108 ],
                    [ -2.2564980334, 53.3760325626 ],
                    [ -2.2561749758, 53.3759777275 ],
                    [ -2.2559280773, 53.3759343139 ],
                    [ -2.255787271, 53.3759108061 ],
                    [ -2.2556302041, 53.3758828388 ],
                    [ -2.2555061256, 53.3758589351 ],
                    [ -2.2554032675, 53.3758393812 ],
                    [ -2.2552454196, 53.3758065612 ],
                    [ -2.2551125159, 53.3757773729 ],
                    [ -2.2549815685, 53.3757460229 ],
                    [ -2.2548625396, 53.3757168944 ],
                    [ -2.2547384141, 53.3756850801 ],
                    [ -2.2546011185, 53.3756478108 ],
                    [ -2.2545081221, 53.3756207834 ],
                    [ -2.2544058123, 53.375589731 ],
                    [ -2.2542915881, 53.3755545693 ],
                    [ -2.2541730158, 53.3755187066 ],
                    [ -2.2540525421, 53.3754765469 ],
                    [ -2.2539339411, 53.3754358213 ],
                    [ -2.2538210328, 53.3753943642 ],
                    [ -2.2536712302, 53.3753365457 ],
                    [ -2.2535494868, 53.3752880152 ],
                    [ -2.2534415191, 53.3752431316 ],
                    [ -2.2533327717, 53.3751934946 ],
                    [ -2.2532229337, 53.3751449294 ],
                    [ -2.2531192828, 53.3750978881 ],
                    [ -2.2530148667, 53.3750459944 ],
                    [ -2.2529037685, 53.3749951845 ],
                    [ -2.2520735343, 53.374575328 ],
                    [ -2.2509164812, 53.3739843383 ],
                    [ -2.2503949954, 53.3737132444 ],
                    [ -2.250179076, 53.373603085 ],
                    [ -2.249673646, 53.3733435494 ],
                    [ -2.2494624481, 53.3732330193 ],
                    [ -2.2491469304, 53.3730645599 ],
                    [ -2.249096061, 53.3730327659 ],
                    [ -2.2490623175, 53.3730071381 ],
                    [ -2.2490416358, 53.3729866874 ],
                    [ -2.2490171928, 53.3729605008 ],
                    [ -2.2489983777, 53.3729226262 ],
                    [ -2.2489919361, 53.3728802225 ],
                    [ -2.2489990673, 53.3728302398 ],
                    [ -2.2490161736, 53.3727870766 ],
                    [ -2.2490384057, 53.3727542306 ],
                    [ -2.2490904171, 53.3727042439 ],
                    [ -2.2494237115, 53.3724206647 ],
                    [ -2.2498566305, 53.3720522295 ],
                    [ -2.2500978886, 53.3718378564 ],
                    [ -2.2502990407, 53.3716330052 ],
                    [ -2.2504994399, 53.3714054141 ],
                    [ -2.2508536936, 53.370979623 ],
                    [ -2.2509427907, 53.3708759222 ],
                    [ -2.2510380788, 53.3707695926 ],
                    [ -2.2511246014, 53.3706703825 ],
                    [ -2.2512131181, 53.3705729657 ],
                    [ -2.2512854828, 53.370489066 ],
                    [ -2.2513652109, 53.3703923868 ],
                    [ -2.2514301681, 53.3703139767 ],
                    [ -2.2515055809, 53.3702196436 ],
                    [ -2.2516610664, 53.3700059881 ],
                    [ -2.251799483, 53.3697970416 ],
                    [ -2.2519511994, 53.3695520309 ],
                    [ -2.2520831223, 53.3693148731 ],
                    [ -2.2521901284, 53.3690934082 ],
                    [ -2.2522722701, 53.3689040765 ],
                    [ -2.2523261964, 53.3687595592 ],
                    [ -2.2523747966, 53.3685759614 ],
                    [ -2.2523930642, 53.3684170479 ],
                    [ -2.2524150969, 53.3682238886 ],
                    [ -2.2524297354, 53.3680816029 ],
                    [ -2.2524452592, 53.3679619667 ],
                    [ -2.2524790245, 53.3676765857 ],
                    [ -2.2524860359, 53.3675864414 ],
                    [ -2.2524962018, 53.3675011443 ],
                    [ -2.2525305393, 53.367210998 ],
                    [ -2.2525524456, 53.3670195467 ],
                    [ -2.2525871317, 53.3667859294 ],
                    [ -2.252615968, 53.3666127015 ],
                    [ -2.2526756965, 53.3663827163 ],
                    [ -2.252737584, 53.3661215358 ],
                    [ -2.2527688401, 53.3660018661 ],
                    [ -2.2527910254, 53.3658984762 ],
                    [ -2.2528138199, 53.3658142309 ],
                    [ -2.2528466389, 53.3656844905 ],
                    [ -2.2528598944, 53.3656212 ],
                    [ -2.2528733163, 53.3655657294 ],
                    [ -2.2528863871, 53.3655118684 ],
                    [ -2.2529034946, 53.3654519855 ],
                    [ -2.2529255601, 53.3653919122 ],
                    [ -2.2529364658, 53.3653708645 ],
                    [ -2.252975188, 53.3653194658 ],
                    [ -2.2530184255, 53.3652768754 ],
                    [ -2.2530547321, 53.3652540569 ],
                    [ -2.2531155201, 53.3652264312 ],
                    [ -2.2531962851, 53.3652022686 ],
                    [ -2.2533069733, 53.3651888286 ],
                    [ -2.2534296189, 53.3651847921 ],
                    [ -2.2535591146, 53.3651879319 ],
                    [ -2.2537616182, 53.3651968393 ],
                    [ -2.2541602042, 53.3652163928 ],
                    [ -2.2543607346, 53.3652244945 ],
                    [ -2.2545999621, 53.3652403421 ],
                    [ -2.2547686423, 53.3652497697 ],
                    [ -2.2549985923, 53.3652671645 ],
                    [ -2.2551855357, 53.365282395 ],
                    [ -2.2552951126, 53.3652917778 ],
                    [ -2.2554540501, 53.3653078859 ],
                    [ -2.2555805103, 53.3653209983 ],
                    [ -2.2556982977, 53.3653337787 ],
                    [ -2.2558272419, 53.3653476047 ],
                    [ -2.2560952055, 53.3653813558 ],
                    [ -2.2562309773, 53.3653985014 ],
                    [ -2.2563808836, 53.3654170456 ],
                    [ -2.2566155, 53.365447991 ],
                    [ -2.2568839495, 53.3654823685 ],
                    [ -2.2572497402, 53.3655278516 ],
                    [ -2.2580417356, 53.3656288496 ],
                    [ -2.2587888382, 53.3657258951 ],
                    [ -2.2593235295, 53.3657936557 ],
                    [ -2.2600781973, 53.3658907666 ],
                    [ -2.2606717846, 53.3659655743 ],
                    [ -2.2613981162, 53.3660651658 ],
                    [ -2.2622120246, 53.3661828879 ],
                    [ -2.2631380416, 53.3663145585 ],
                    [ -2.2636901625, 53.366394117 ],
                    [ -2.2640419929, 53.3664445631 ],
                    [ -2.2644963966, 53.3665105911 ],
                    [ -2.2646858875, 53.3665377558 ],
                    [ -2.2649714982, 53.3665771106 ],
                    [ -2.2652722403, 53.3666209163 ],
                    [ -2.2654866394, 53.366646586 ],
                    [ -2.2656746494, 53.3666529078 ],
                    [ -2.2658278577, 53.3666428577 ],
                    [ -2.2659597152, 53.3666262126 ],
                    [ -2.2661674199, 53.3665735418 ],
                    [ -2.2664494669, 53.3664798147 ],
                    [ -2.2667154214, 53.3663890802 ],
                    [ -2.2669419323, 53.3663112965 ],
                    [ -2.2671226733, 53.36624646 ],
                    [ -2.2672717987, 53.3661966064 ],
                    [ -2.2674246215, 53.3661445061 ],
                    [ -2.2676831518, 53.3660567615 ],
                    [ -2.2678297823, 53.3660046746 ],
                    [ -2.2679888871, 53.3659480562 ],
                    [ -2.2682405133, 53.3658644607 ],
                    [ -2.2683455051, 53.3658322332 ],
                    [ -2.2684959039, 53.3657893863 ],
                    [ -2.268680649, 53.365750246 ],
                    [ -2.2689101416, 53.36571513 ],
                    [ -2.2692019791, 53.3656816703 ],
                    [ -2.2721614215, 53.3653697698 ],
                    [ -2.2722561498, 53.3653594952 ],
                    [ -2.2727853424, 53.3653025737 ]


    ]
}

struct MapView: UIViewRepresentable {
    
    let region: MKCoordinateRegion
    let lineCoordinatesFromOrigin: OrderedDictionary<String, CLLocationCoordinate2D>
    var lineCoordinatesFromInterchange: OrderedDictionary<String, CLLocationCoordinate2D>? = nil
    let lineColorFromOrigin: Color
    var lineColorFromInterchange: Color? = nil
    @Environment(\.colorScheme) private var displayMode
    
    func makeUIView(context: Context) -> MKMapView {
        let mapView = MKMapView()
        mapView.delegate = context.coordinator
        
        mapView.preferredConfiguration = MKStandardMapConfiguration(emphasisStyle: .muted)
        
        var testCoordinates: [CLLocationCoordinate2D] = []
        for coordinate in ExampleRouteCoordinates.exampleCoordinates {
            testCoordinates.append(CLLocationCoordinate2D(latitude: coordinate[1], longitude: coordinate[0]))
        }
        let testPolyline = RoutePolyline(coordinates: testCoordinates, count: testCoordinates.count)
        testPolyline.routeColor = .blue
        
        
        var stopAnnotations: [StopAnnotation] = []
        var routePolylines: [RoutePolyline] = []
        let polyline = RoutePolyline(coordinates: testCoordinates, count: testCoordinates.count)
        polyline.routeColor = UIColor(lineColorFromOrigin)
        routePolylines.append(polyline)
        routePolylines.append(testPolyline)
        for (index, stop) in lineCoordinatesFromOrigin.keys.enumerated() {
            let annotation = StopAnnotation()
            if index == 0 {
                annotation.subtitle = "Start"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            
            if index == lineCoordinatesFromOrigin.keys.count - 1 && lineColorFromInterchange != nil{
                annotation.subtitle = "Change here"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            
            if index == lineCoordinatesFromOrigin.keys.count - 1 && lineColorFromInterchange == nil{
                annotation.subtitle = "Destination"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            
            annotation.stopColor = displayMode == .dark ? .white : .black
            annotation.coordinate = lineCoordinatesFromOrigin[stop]!
            annotation.title = stop
            stopAnnotations.append(annotation)
        }
        
        if (lineCoordinatesFromInterchange != nil && lineColorFromInterchange != nil) {
            let polylineFromInterchange = RoutePolyline(coordinates: lineCoordinatesFromInterchange!.map {$0.value}, count: lineCoordinatesFromInterchange!.count)
            polylineFromInterchange.routeColor = UIColor(lineColorFromInterchange!)
            routePolylines.append(polylineFromInterchange)
            
            for (index, stop) in lineCoordinatesFromInterchange!.keys.enumerated() {
                if index == 0 {
                    continue
                }
                
                let annotation = StopAnnotation()
                
                if index == lineCoordinatesFromInterchange!.keys.count - 1 {
                    annotation.subtitle = "Destination"
                    annotation.stopSize = CGSize(width: 30, height: 30)
                }
                 
                annotation.stopColor = displayMode == .dark ? .white : .black
                annotation.coordinate = lineCoordinatesFromInterchange![stop]!
                annotation.title = stop
                stopAnnotations.append(annotation)
            }
        }
        
        mapView.layoutMargins = UIEdgeInsets(top: 10, left: 10, bottom: 100, right: 100)
        mapView.addOverlays(routePolylines)
        mapView.addAnnotations(stopAnnotations)
        mapView.region = region
        mapView.setRegion(region, animated: true)
        
        return mapView
    }
    
    func updateUIView(_ view: MKMapView, context: Context) {
        view.region = region
        
        view.overlays.forEach {
            view.removeOverlay($0)
        }
        
        view.annotations.forEach {
            view.removeAnnotation($0)
        }
        
        let testCoordinates = ExampleRouteCoordinates.exampleCoordinates.map { CLLocationCoordinate2D(latitude: $0[1], longitude: $0[0])}
        let testPolyline = RoutePolyline(coordinates: testCoordinates, count: testCoordinates.count)
        testPolyline.routeColor = .blue
        var stopAnnotations: [StopAnnotation] = []
        var routePolylines: [RoutePolyline] = []
        let polyline = RoutePolyline(coordinates: lineCoordinatesFromOrigin.map {$0.value}, count: lineCoordinatesFromOrigin.count)
        polyline.routeColor = UIColor(lineColorFromOrigin)
        routePolylines.append(polyline)
        routePolylines.append(testPolyline)
        for (index, stop) in lineCoordinatesFromOrigin.keys.enumerated() {
            let annotation = StopAnnotation()
            if index == 0 {
                annotation.subtitle = "Start"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            
            if index == lineCoordinatesFromOrigin.keys.count - 1 && lineColorFromInterchange != nil{
                annotation.subtitle = "Change here"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            
            if index == lineCoordinatesFromOrigin.keys.count - 1 && lineColorFromInterchange == nil{
                annotation.subtitle = "Destination"
                annotation.stopSize = CGSize(width: 30, height: 30)
            }
            annotation.stopColor = displayMode == .dark ? .white : .black
            annotation.coordinate = lineCoordinatesFromOrigin[stop]!
            annotation.title = stop
            stopAnnotations.append(annotation)
        }
        
        if (lineCoordinatesFromInterchange != nil && lineColorFromInterchange != nil) {
            let polylineFromInterchange = RoutePolyline(coordinates: lineCoordinatesFromInterchange!.map {$0.value}, count: lineCoordinatesFromInterchange!.count)
            polylineFromInterchange.routeColor = UIColor(lineColorFromInterchange!)
            routePolylines.append(polylineFromInterchange)
            
            
            for (index, stop) in lineCoordinatesFromInterchange!.keys.enumerated() {
                if index == 0 {
                    continue
                }
                
                let annotation = StopAnnotation()
                if index == lineCoordinatesFromInterchange!.keys.count - 1 {
                    annotation.subtitle = "Destination"
                    annotation.stopSize = CGSize(width: 30, height: 30)
                }
                    
                annotation.stopColor = displayMode == .dark ? .white : .black
                annotation.coordinate = lineCoordinatesFromInterchange![stop]!
                annotation.title = stop
                stopAnnotations.append(annotation)
                
            }
        }
        
        view.layoutMargins = UIEdgeInsets(top: 10, left: 10, bottom: 100, right: 100)
        view.addOverlays(routePolylines)
        view.addAnnotations(stopAnnotations)
        view.region = region
        view.setRegion(region, animated: true)
    }
    
    func makeCoordinator() -> Coordinator {
        Coordinator(self)
    }
    
}

class Coordinator: NSObject, MKMapViewDelegate {
    var parent: MapView
    
    init(_ parent: MapView) {
        self.parent = parent
    }
    
    func mapView(_ mapView: MKMapView, rendererFor overlay: MKOverlay) -> MKOverlayRenderer {
        if overlay is MKPolyline {
            let routePolyline = overlay as? RoutePolyline
            let renderer = MKPolylineRenderer(polyline: routePolyline!)
            renderer.strokeColor = routePolyline!.routeColor
            renderer.lineWidth = 5
            return renderer
        }
        return MKOverlayRenderer(overlay: overlay)
    }
    
    func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {
        if annotation is StopAnnotation {
            let annotation = annotation as? StopAnnotation
            let annotationView = MKAnnotationView(annotation: annotation, reuseIdentifier: UUID().uuidString)
            annotationView.canShowCallout = true
            annotationView.image = UIImage(systemName: "smallcircle.filled.circle")?.withTintColor(annotation!.stopColor)
            annotationView.image = UIGraphicsImageRenderer(size: annotation!.stopSize).image {
                 _ in annotationView.image!.draw(in:CGRect(origin: .zero, size: annotation!.stopSize))
            }
            return annotationView
        }
        

        return nil
    }
}

class RoutePolyline: MKPolyline {
    var routeColor: UIColor = UIColor.clear
}

class StopAnnotation: MKPointAnnotation {
    var stopColor: UIColor = .white
    var stopSize: CGSize = CGSize(width: 15, height: 15)
}
